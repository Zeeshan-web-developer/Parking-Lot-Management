"use strict";(self.webpackChunkparking_lot_management_app=self.webpackChunkparking_lot_management_app||[]).push([[202],{189:(e,t,l)=>{l.r(t),l.d(t,{default:()=>P});var s=l(43);l.p;var n=l(582),r=l(579);const a=e=>{let{children:t}=e;return(0,r.jsx)("header",{className:"bg-background text-white shadow-md mb-2",children:(0,r.jsxs)("div",{className:"container mx-auto p-4 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(0,r.jsx)(n.N_,{to:"#",className:"link__hover",children:(0,r.jsx)("h2",{className:"text-white hover:text-blue-500 transition duration-300 ease-in-out cursor-pointer",children:"KanzWay"})})}),(0,r.jsx)("div",{children:t||null})]})})},i=e=>{let{onClick:t,label:l}=e;return(0,r.jsx)("button",{onClick:t,className:"bg-button hover:bg-gray-700 text-white py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-opacity-50",children:l})},o=e=>{let{value:t,onChange:l,placeholder:s,icon:n,handleButtonClick:a=()=>{}}=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",value:t,onChange:l,placeholder:s,className:"text-black w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-green-300"}),t&&(0,r.jsx)("button",{type:"button",onClick:a,className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n||null})]})},c=e=>{let{vehicle:t,onRemove:l,index:s,parkedDuration:n}=e;return(0,r.jsxs)("div",{className:" hover:shadow-lg transition duration-300 ease-in-out border rounded p-4 flex justify-between items-center bg-gray-100",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg font-bold",children:["License Plate: ",t.plate]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Parked for ",n]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Parking Spot: ",null===t||void 0===t?void 0:t.slotNumber]})]}),(0,r.jsx)(i,{onClick:()=>l(s),label:"Remove",color:"bg-red-500"})]})};l(990),l(407);var d=l(720);function u(e){let{filter:t,setFilter:l}=e;return(0,r.jsxs)("div",{className:"flex-1 bg-background p-4 rounded shadow ",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2 text-white",children:"Search Vehicle"}),(0,r.jsx)("div",{className:"mb-4 flex justify-center items-center gap-2",children:(0,r.jsx)(o,{value:t,onChange:e=>l(e.target.value),placeholder:"Filter by License Plate",className:"flex-1",icon:t&&(0,r.jsx)(d.Tfw,{className:"text-gray-400"}),handleButtonClick:()=>l("")})})]})}const x=s.memo(u);function m(e){let{filteredSpots:t,removeVehicle:l,getParkedDuration:s}=e;return(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map(((e,t)=>(0,r.jsx)(c,{vehicle:e,onRemove:l,index:t,parkedDuration:s(e.parkedAt)},t))):(0,r.jsx)("div",{className:"text-center text-gray-500",children:"No vehicles found"})})}const h=s.memo(m);const p=function(e){let{licensePlate:t,setLicensePlate:l,parkVehicle:s}=e;return(0,r.jsxs)("div",{className:"flex-1 bg-background p-4 rounded shadow ",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-2 text-white",children:[(0,r.jsx)(d.jgn,{className:"text-2xl inline-block ml-2 text-white"}),"Add New Vehicle"]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-2 mb-6",children:[(0,r.jsx)(o,{value:t,onChange:e=>l(e.target.value),placeholder:"Enter License Plate",className:"flex-1"}),(0,r.jsx)(i,{onClick:s,label:"Park Vehicle",color:"bg-green-500"})]})]})};function v(e){let{parkingSpots:t}=e;return(0,r.jsx)(r.Fragment,{children:t.every((e=>null!==e))&&(0,r.jsx)("p",{className:"mt-4 text-center text-red-600 font-bold",children:"Parking lot is full. No spots available."})})}const g=s.memo(v);var f=l(184);const b=e=>{let{parkingSpots:t}=e;const l=null===t||void 0===t?void 0:t.filter((e=>null===e)).length;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center bg-button border border-black rounded-lg p-2 shadow-md mb-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(f.Rqx,{className:" text-xs"}),(0,r.jsx)("span",{className:"text-xs font-semibold ",children:"Remaining Slots"})]}),(0,r.jsx)("div",{className:" text-sm font-bold ",children:l}),(0,r.jsxs)("p",{className:"text-sm",children:["of ",t.length," total slots"]})]})},j=s.memo(b);var k=l(365),N=l(917);const w=function(){return{removeVehicleDialog:e=>{let{remove:t}=e;(0,N.ZX)({title:"Remove Vehicle",message:"Are you sure you want to remove the vehicle?",buttons:[{label:"Yes",onClick:()=>{t()}},{label:"No",onClick:()=>{}}]})}}};const y=function(){const[e,t]=(0,s.useState)(Array(10).fill(null)),{removeVehicleDialog:l}=w(),[n,r]=(0,s.useState)(""),[a,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(new Date);(0,s.useEffect)((()=>{const e=setInterval((()=>{c(new Date)}),1e3);return()=>clearInterval(e)}),[]);const d=(0,k.MW)(),u=e.filter((e=>{var t,l;return e&&(null===e||void 0===e||null===(t=e.plate)||void 0===t||null===(l=t.toLowerCase())||void 0===l?void 0:l.includes(null===a||void 0===a?void 0:a.toLowerCase()))}));return{parkingSpots:e,setParkingSpots:t,licensePlate:n,setLicensePlate:r,filter:a,setFilter:i,parkVehicle:()=>{const l=e.findIndex((e=>null===e));if(-1===l)return void d.error("Parking lot is full!");if(""===(null===n||void 0===n?void 0:n.trim()))return void d.error("Please enter a valid license plate.");if(e.some((e=>{var t;return(null===e||void 0===e||null===(t=e.plate)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})))return void d.error("License plate already exists in the parking lot.");const s=[...e];s[l]={plate:n.toUpperCase(),slotNumber:l+1,parkedAt:new Date},t(s),r(""),d.success("Vehicle parked successfully!")},removeVehicle:s=>{l({remove:()=>{const l=[...e];l[s]=null,t(l),d.success("Vehicle removed successfully!")}})},getParkedDuration:e=>{new Date;const t=Math.floor((o-new Date(e))/1e3);return`${Math.floor(t/60)} min, ${t%60} sec`},filteredSpots:u}},P=()=>{const{parkingSpots:e,licensePlate:t,setLicensePlate:l,filter:s,setFilter:n,parkVehicle:i,removeVehicle:o,getParkedDuration:c,filteredSpots:d}=y();return(0,r.jsxs)("div",{className:"container mx-auto p-6 min-h-screen ",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a,{Parking:!0,Lot:!0,Management:!0,children:(0,r.jsx)(j,{parkingSpots:e})}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row sm:justify-between sm:gap-4 mb-6 space-y-2 md:space-y-0",children:[(0,r.jsx)(p,{licensePlate:t,setLicensePlate:l,parkVehicle:i}),(0,r.jsx)(x,{filter:s,setFilter:n,filteredSpots:d})]})]}),(0,r.jsx)(h,{filteredSpots:d,removeVehicle:o,getParkedDuration:c}),(0,r.jsx)(g,{parkingSpots:e})]})}}}]);
//# sourceMappingURL=202.0780cbd0.chunk.js.map